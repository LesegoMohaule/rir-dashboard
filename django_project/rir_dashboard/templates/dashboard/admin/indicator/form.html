{% extends 'dashboard/admin/form.html' %}
{% load static %}
{% block stylesheet %}
    <link rel="stylesheet" href="{% static 'css/form.css' %}" type="text/css" media="screen, projection"/>
    <link rel="stylesheet" href="{% static 'css/dashboard/admin/form.css' %}" type="text/css" media="screen, projection"/>
    <style>
        table {
            width: 100%;
        }
    </style>
{% endblock stylesheet %}

{% block content %}
    {% csrf_token %}
    {% for field in form %}
        <p data-field-name="{{ field.name }}">
            <label class="label{% if field.field.required %} required{% endif %}" for="{{ field.name }}">{{ field.label }}</label>
            {% if field.errors %}<span class="error">{{ field.errors }}</span>{% endif %}
            {{ field }}<br/>
            {% if field.help_text %}<span class="helptext">{{ field.help_text|safe }}</span>{% endif %}
        </p>
    {% endfor %}
    <br>
    <h3>Scenario Rules</h3>
    <table id="rule-table">
        <tr>
            <th>Scenario</th>
            <th>Name</th>
            <th>Rule<br>
                <span class="helptext">Use formula to create the rule and use x as the value. Example: x<100. It will replace x with the value and will check the condition.</span>
            </th>
            <th>Color<br>
                <span class="helptext">Put the hex color with # (e.g. #ffffff) or put the text of color. (e.g. blue).</span>
            </th>
        </tr>
        {% for scenario in scenarios %}
            <tr>
                <td>{{ scenario.name }}</td>
                <td><input type="text" name="scenario_{{ scenario.id }}_name" value="{{ scenario.rule_name }}"></td>
                <td><input type="text" name="scenario_{{ scenario.id }}_rule" value="{{ scenario.rule_value }}"></td>
                <td><input type="text" name="scenario_{{ scenario.id }}_color" value="{{ scenario.rule_color }}"></td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}
{% block scripts %}
    <script>
        {% if is_create %}
            $('#nav-indicator-create').addClass('active')
        {% endif %}
    </script>
{% endblock %}